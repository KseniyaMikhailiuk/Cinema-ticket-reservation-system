import {v4} from 'uuid'

const cinemaHallPlans = [
    {
        cityName: "Минск",
        cinemas: [
            {
                name: "Арена сити",
                halls: [
                    {
                        number: 1,
                        plan: [
                            [
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 1,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 2,
                                    line: 1,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 3,
                                    line: 1,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 4,
                                    line: 1,
                                },
                                {
                                    id: v4(),
                                    type: "comfort",
                                    price: 20, 
                                    raw: 5,
                                    line: 1,
                                },
                            ],
                            [
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 2,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 3,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "comfort",
                                    price: 20, 
                                    raw: 4,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "comfort",
                                    price: 20, 
                                    raw: 5,
                                    line: 2,
                                },
                            ],
                            [
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 3,
                                },
                                {
                                    id: v4(),
                                    type: "loveseat",
                                    price: 20, 
                                    raw: 2,
                                    line: 3,
                                },
                        
                                {
                                    id: v4(),
                                    type: "loveseat",
                                    price: 20, 
                                    raw: 3,
                                    line: 3, 
                                },
                            ]
                        
                        ]
                    },
                    {
                        number: 2,
                        plan: [
                            [
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "comfort",
                                    price: 20, 
                                    raw: 1,
                                    line: 2,
                                },
                            ],
                            [
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "comfort",
                                    price: 20, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "comfort",
                                    price: 20, 
                                    raw: 1,
                                    line: 2,
                                },
                            ],
                            [
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "loveseat",
                                    price: 20, 
                                    raw: 1,
                                    line: 2,
                                },
                        
                                {
                                    id: v4(),
                                    type: "loveseat",
                                    price: 20, 
                                    raw: 1,
                                    line: 2, 
                                },
                            ]
                        
                        ]
                    }
                ]
            },
            {
                name: "Аврора",
                halls: [
                    {
                        number: 1,
                        plan: [
                            [
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "comfort",
                                    price: 20, 
                                    raw: 1,
                                    line: 2,
                                },
                            ],
                            [
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "comfort",
                                    price: 20, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "comfort",
                                    price: 20, 
                                    raw: 1,
                                    line: 2,
                                },
                            ],
                            [
                                {
                                    id: v4(),
                                    type: "standard",
                                    price: 10, 
                                    raw: 1,
                                    line: 2,
                                },
                                {
                                    id: v4(),
                                    type: "loveseat",
                                    price: 20, 
                                    raw: 1,
                                    line: 2,
                                },
                        
                                {
                                    id: v4(),
                                    type: "loveseat",
                                    price: 20, 
                                    raw: 1,
                                    line: 2, 
                                },
                            ]                        
                        ]
                    }
                ]
            }
        ]
    }
]

export default cinemaHallPlans;

const delay = (ms) => 
    new Promise(resolve => setTimeout(resolve, ms));

export const fetchHallPlan = (seanceInfo) => 
    delay(500)
    .then(() => {
        var plan = []
        cinemaHallPlans
        .forEach(city => {
            if (city.cityName === seanceInfo.city) {
                city
                    .cinemas
                    .forEach(cinema => {
                        if (cinema.name === seanceInfo.cinema) {
                            cinema
                                .halls
                                .forEach(hall => {   
                                    if (hall.number === seanceInfo.hall) {
                                        plan = hall.plan;
                                    }
                                })
                        }
                    })
            }
        })            

        return plan;
    })